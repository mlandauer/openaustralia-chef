<VirtualHost *:80>
    ServerName <%= @node[:planningalerts][@stage][:virtual_host_name] %>
    DocumentRoot "<%= @node[:planningalerts][@stage][:html_root] %>"

    # Make the api accessible without a password so that you can display the GeoRSS feeds on Google Maps
    #<Files "api.php">
    #  Order allow,deny
    #  Allow from all
    #  Satisfy any
    #</Files>
    
    RailsEnv development
    
    <Directory <%= @node[:planningalerts][@stage][:html_root] %>>
      # Disable recognition of php files in this directory
      RemoveType .php
      Allow from all
      Options -MultiViews
    </Directory>
        
    #<Directory "<%= @node[:planningalerts][@stage][:html_root] %>">
    #    # TODO: Change these to be restrictive
    #    Options All MultiViews
    #    AllowOverride All
    #    Order allow,deny
    #    Allow from all

    #    AuthType Basic
    #    AuthName "Planning Alerts Staging Server"
    #    AuthUserFile <%= @node[:planningalerts][@stage][:apache_password_file] %>
    #    Require user test    
    #</Directory>

    #RackEnv development
    #RackBaseURI /scrapers
    #<Directory "<%= @node[:planningalerts][@stage][:html_root] %>/scrapers" >
    #  Options -MultiViews
      
    #  # Even though this directory is password protected - allow localhost
    #  # access to this directory without a password
    #  Order allow,deny
    #  # Trying hardcoded IP address of the server as a last resort
    #  Allow from 122.100.2.249
    #  Satisfy any
    #</Directory>
    
    ErrorLog "/var/log/<%= @node[:planningalerts][@stage][:name] %>-error_log"
    CustomLog /var/log/<%= @node[:planningalerts][@stage][:name] %>-access_log common

    #ErrorDocument 404 /404.php
</VirtualHost>
